/* 216554588 Navarro Rizo Bruno Octavio
   219750507 Hernandez Nieto Fernando
   212554346 Duron Gonz√°lez Jonathan
   Estructuras de Datos II  D12
   Lara Lopez Graciela */

#include <iostream>
#include <fstream>

using namespace std;

int main() {

    struct Prod {
        string codigo;
        string nombre;
        string fabricante;
        string cantidad;
        string dia;
        string mes;
        string via;
        string dir;
        };

    ifstream archivo;
    archivo.open("Inventario1.txt",ios::in);

    Prod arr[51];
    Prod miProd;
    int ind, aux;

    for(int i = 1; i < 51; i++) {
        arr[i].nombre = "vacio";
        }

    while(!archivo.eof()) {
        getline(archivo,miProd.codigo, ',');
        miProd.codigo += ',';
        getline(archivo,miProd.nombre, ',');
        miProd.nombre += ',';
        getline(archivo,miProd.fabricante, ',');
        miProd.fabricante += ',';
        getline(archivo,miProd.cantidad, ',');
        miProd.cantidad += ',';
        getline(archivo,miProd.dia, ',');
        miProd.dia += ',';
        getline(archivo,miProd.mes, ',');
        miProd.mes += ',';
        getline(archivo,miProd.via, ',');
        miProd.via += ',';
        getline(archivo,miProd.dir, '\n');

        ind = stoi(miProd.dir);
        aux = ind;

        while(arr[ind].nombre != "vacio") {
            ind++;
            if(ind > 50)
                ind = 1;
            }
        miProd.dir = "-1";
        arr[aux].dir = to_string(ind);
        arr[ind] = miProd;
        }

    archivo.close();

    for(int i = 1; i < 51; i++) {
        if(i < 10) {
            cout << "0" << i << " " << arr[i].codigo << arr[i].nombre << arr[i].fabricante
                 << arr[i].cantidad << arr[i].dia << arr[i].mes << arr[i].via << arr[i].dir << endl;
            }
        else {
            cout << i << " " << arr[i].codigo << arr[i].nombre << arr[i].fabricante
                 << arr[i].cantidad << arr[i].dia << arr[i].mes << arr[i].via << arr[i].dir << endl;
            }
        }

    }
